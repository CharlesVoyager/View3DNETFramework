<Window x:Class="View3D.view.ThreeDSettings"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="3D Visualization Settings"
        Width="660" Height="500"
        ResizeMode="NoResize"
        Topmost="True"
        Closing="ThreeDSettings_Closing">

    <Window.Resources>
        <Style x:Key="SwatchStyle" TargetType="Border">
            <Setter Property="BorderBrush" Value="#888"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Height" Value="26"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="0,3"/>
        </Style>
    </Window.Resources>

    <Grid Margin="10">
        <TabControl x:Name="tabControl1">

            <!-- ═══════════════════════════════════════════
                 TAB 1 — General
            ════════════════════════════════════════════ -->
            <TabItem Header="General">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <GroupBox Header="Printbed" Grid.Row="0" Margin="0,0,0,10">
                        <Grid Margin="6,4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="160"/>
                                <ColumnDefinition Width="160"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                            </Grid.RowDefinitions>

                            <CheckBox x:Name="showPrintbed"
                                      Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                                      Content="Show printbed" IsChecked="True"
                                      VerticalAlignment="Center"
                                      Checked="showEdges_CheckedChanged"
                                      Unchecked="showEdges_CheckedChanged"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Background Top:"   VerticalAlignment="Center"/>
                            <Border x:Name="backgroundTop"   Grid.Row="1" Grid.Column="1"
                                    Background="WhiteSmoke"    Style="{StaticResource SwatchStyle}"
                                    MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Background Bottom:" VerticalAlignment="Center"/>
                            <Border x:Name="backgroundBottom" Grid.Row="2" Grid.Column="1"
                                    Background="CornflowerBlue" Style="{StaticResource SwatchStyle}"
                                    MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Printer base:"      VerticalAlignment="Center"/>
                            <Border x:Name="printerBase"      Grid.Row="3" Grid.Column="1"
                                    Background="Gainsboro"     Style="{StaticResource SwatchStyle}"
                                    MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Printer Frame:"     VerticalAlignment="Center"/>
                            <Border x:Name="printerFrame"     Grid.Row="4" Grid.Column="1"
                                    Background="Black"         Style="{StaticResource SwatchStyle}"
                                    MouseLeftButtonUp="ColorSwatch_Click"/>
                        </Grid>
                    </GroupBox>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="4,0,0,0">
                        <TextBlock Text="Draw method:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <ComboBox x:Name="comboDrawMethod" Width="180"
                                  SelectionChanged="comboDrawMethod_SelectionChanged" IsEnabled="False">
                            <ComboBoxItem>VBOs (fastest)</ComboBoxItem>
                            <ComboBoxItem>Arrays (medium)</ComboBoxItem>
                            <ComboBoxItem>Immediate (slow)</ComboBoxItem>
                        </ComboBox>
                    </StackPanel>
                </Grid>
            </TabItem>

            <!-- ═══════════════════════════════════════════
                 TAB 2 — Model
            ════════════════════════════════════════════ -->
            <TabItem Header="Model">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <GroupBox Header="Colors" Grid.Row="0" Margin="0,0,0,8">
                        <Grid Margin="6,4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="185"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="30"/>
                                <ColumnDefinition Width="145"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                                <RowDefinition Height="34"/>
                            </Grid.RowDefinitions>

                            <!-- Left column -->
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Faces:"                      VerticalAlignment="Center"/>
                            <Border x:Name="faces"          Grid.Row="0" Grid.Column="1" Background="RoyalBlue"      Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Selected faces:"             VerticalAlignment="Center"/>
                            <Border x:Name="selectedFaces"  Grid.Row="1" Grid.Column="1" Background="CornflowerBlue" Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Edges:"                      VerticalAlignment="Center"/>
                            <Border x:Name="edges"          Grid.Row="2" Grid.Column="1" Background="DarkGray"       Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Objects outside printbed:"   VerticalAlignment="Center"/>
                            <Border x:Name="outsidePrintbed" Grid.Row="3" Grid.Column="1" Background="Red"           Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Selection Box:"              VerticalAlignment="Center"/>
                            <Border x:Name="selectionBox"   Grid.Row="4" Grid.Column="1" Background="White"          Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="5" Grid.Column="0" Text="Model errors (face):"        VerticalAlignment="Center"/>
                            <Border x:Name="errorModel"     Grid.Row="5" Grid.Column="1" Background="Red"            Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="6" Grid.Column="0" Text="Model errors (edge):"        VerticalAlignment="Center"/>
                            <Border x:Name="errorModelEdge" Grid.Row="6" Grid.Column="1" Background="Cyan"           Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>

                            <!-- Right column -->
                            <TextBlock Grid.Row="0" Grid.Column="3" Text="Inner faces:"  VerticalAlignment="Center"/>
                            <Border x:Name="insideFaces"  Grid.Row="0" Grid.Column="4" Background="Black"     Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>

                            <TextBlock Grid.Row="1" Grid.Column="3" Text="Cut faces:"   VerticalAlignment="Center"/>
                            <Border x:Name="cutFaces"     Grid.Row="1" Grid.Column="4" Background="RoyalBlue" Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click"/>
                        </Grid>
                    </GroupBox>

                    <GroupBox Header="Editor" Grid.Row="1">
                        <StackPanel Margin="6,4" Orientation="Vertical">
                            <CheckBox x:Name="showEdges" Content="Show edges" Margin="0,4"
                                      Checked="showEdges_CheckedChanged" Unchecked="showEdges_CheckedChanged"/>
                            <CheckBox x:Name="showFaces" Content="Show faces" IsChecked="True" Margin="0,4"
                                      Checked="showEdges_CheckedChanged" Unchecked="showEdges_CheckedChanged"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- ═══════════════════════════════════════════
                 TAB 3 — Lights
            ════════════════════════════════════════════ -->
            <TabItem Header="Lights">
                <Grid Margin="12,12,12,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="36"/>
                        <RowDefinition Height="36"/>
                        <RowDefinition Height="34"/>
                        <RowDefinition Height="34"/>
                        <RowDefinition Height="34"/>
                        <RowDefinition Height="34"/>
                        <RowDefinition Height="34"/>
                        <RowDefinition Height="34"/>
                    </Grid.RowDefinitions>

                    <!-- Column headers -->
                    <TextBlock Grid.Row="0" Grid.Column="1" Text="Light 1" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Light 2" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    <TextBlock Grid.Row="0" Grid.Column="3" Text="Light 3" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    <TextBlock Grid.Row="0" Grid.Column="4" Text="Light 4" FontWeight="Bold" VerticalAlignment="Center" HorizontalAlignment="Center"/>

                    <!-- Enable checkboxes -->
                    <CheckBox x:Name="enableLight1" Grid.Row="1" Grid.Column="1" Content="Enable light" IsChecked="True"
                              HorizontalAlignment="Center" VerticalAlignment="Center"
                              Checked="showEdges_CheckedChanged" Unchecked="showEdges_CheckedChanged"/>
                    <CheckBox x:Name="enableLight2" Grid.Row="1" Grid.Column="2" Content="Enable light" IsChecked="True"
                              HorizontalAlignment="Center" VerticalAlignment="Center"
                              Checked="showEdges_CheckedChanged" Unchecked="showEdges_CheckedChanged"/>
                    <CheckBox x:Name="enableLight3" Grid.Row="1" Grid.Column="3" Content="Enable light"
                              HorizontalAlignment="Center" VerticalAlignment="Center"
                              Checked="showEdges_CheckedChanged" Unchecked="showEdges_CheckedChanged"/>
                    <CheckBox x:Name="enableLight4" Grid.Row="1" Grid.Column="4" Content="Enable light"
                              HorizontalAlignment="Center" VerticalAlignment="Center"
                              Checked="showEdges_CheckedChanged" Unchecked="showEdges_CheckedChanged"/>

                    <!-- Row labels -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="X direction:"    VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Y direction:"    VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Z direction:"    VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="5" Grid.Column="0" Text="Ambient color:"  VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="6" Grid.Column="0" Text="Diffuse color:"  VerticalAlignment="Center"/>
                    <TextBlock Grid.Row="7" Grid.Column="0" Text="Specular color:" VerticalAlignment="Center"/>

                    <!-- X direction -->
                    <TextBox x:Name="xdir1" Grid.Row="2" Grid.Column="1" Text="-1"   Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="xdir2" Grid.Row="2" Grid.Column="2" Text="1"    Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="xdir3" Grid.Row="2" Grid.Column="3" Text="1"    Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="xdir4" Grid.Row="2" Grid.Column="4" Text="1.7"  Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>

                    <!-- Y direction -->
                    <TextBox x:Name="ydir1" Grid.Row="3" Grid.Column="1" Text="-1"   Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="ydir2" Grid.Row="3" Grid.Column="2" Text="2"    Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="ydir3" Grid.Row="3" Grid.Column="3" Text="-2"   Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="ydir4" Grid.Row="3" Grid.Column="4" Text="-1"   Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>

                    <!-- Z direction -->
                    <TextBox x:Name="zdir1" Grid.Row="4" Grid.Column="1" Text="2"    Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="zdir2" Grid.Row="4" Grid.Column="2" Text="3"    Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="zdir3" Grid.Row="4" Grid.Column="3" Text="2"    Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>
                    <TextBox x:Name="zdir4" Grid.Row="4" Grid.Column="4" Text="-2.5" Margin="4,3" TextChanged="light_TextChanged" LostFocus="float_LostFocus"/>

                    <!-- Ambient -->
                    <Border x:Name="ambient1" Grid.Row="5" Grid.Column="1" Background="Black"   Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="ambient2" Grid.Row="5" Grid.Column="2" Background="Black"   Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="ambient3" Grid.Row="5" Grid.Column="3" Background="Black"   Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="ambient4" Grid.Row="5" Grid.Column="4" Background="Black"   Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>

                    <!-- Diffuse -->
                    <Border x:Name="diffuse1" Grid.Row="6" Grid.Column="1" Background="#CCCCCC" Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="diffuse2" Grid.Row="6" Grid.Column="2" Background="#BBBBBB" Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="diffuse3" Grid.Row="6" Grid.Column="3" Background="#CCCCCC" Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="diffuse4" Grid.Row="6" Grid.Column="4" Background="#BBBBBB" Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>

                    <!-- Specular -->
                    <Border x:Name="specular1" Grid.Row="7" Grid.Column="1" Background="White"  Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="specular2" Grid.Row="7" Grid.Column="2" Background="White"  Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="specular3" Grid.Row="7" Grid.Column="3" Background="White"  Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                    <Border x:Name="specular4" Grid.Row="7" Grid.Column="4" Background="White"  Style="{StaticResource SwatchStyle}" MouseLeftButtonUp="ColorSwatch_Click" Margin="4,3"/>
                </Grid>
            </TabItem>

        </TabControl>
    </Grid>
</Window>
